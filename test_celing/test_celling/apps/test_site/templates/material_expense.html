{% extends "base.html" %}

{% block title %}Расход материала{% endblock %}


{% block content %}
    <h1>Расход материала</h1>
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
          <table id="expense_table">
            <thead>
                <td>id</td>
                <td>Название</td>
                <td>Расход</td>
                <td>Остаток</td>
            </thead>
            <tfoot>
                <td>id</td>
                <td>Название</td>
                <td>Расход</td>
                <td>Остаток</td>
            </tfoot>
        </table>
      </div>
      <div class="col-sm-1"></div>
{% endblock %}

{% block custom_script %}
    <script type="text/javascript">
        $(document).ready(function(){
            $('#expense_table').DataTable({
                ajax: '/materials_expense',
                "order": [[ 0, "desc" ]],
                "lengthMenu": [[20,50, 100, 200, -1], [20,50, 100, 200, "All"]],
                "language": {
                    "lengthMenu": "_MENU_ записей на странице",
                    "zeroRecords": "0 строк нашли",
                    "info": "Показаны страницы _PAGE_ из _PAGES_",
                    "infoEmpty": "Строки не найдены",
                    "search":    "Поиск: ",
                    "infoFiltered": "(Отфильтрованный от _MAX_ Всего записей)",
                    "paginate": {
                        "first":      "Первый",
                        "last":       "Последний",
                        "next":       "Следующий",
                        "previous":   "Предыдуший"
                    },
                },
                responsive: true,
                "columns": [{
                    "data": 'material_id'
                }, {
                    "data": 'material_name'
                }, {
                    "data": 'material_expense'
                }, {
                    "data": 'material_count'
                }]
            });
        });
    </script>
{% endblock %}